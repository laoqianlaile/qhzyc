(function(a){a.component("coral.inputbase",a.coral.formelement,{version:"4.0.2",options:{inputButtonGutter:5},_setOption:function(b,d){var c=this;this._super(b,d);this.component().find(".button").each(function(){var h=a(this).attr("data-pos");var e=h.split("_");if(b==="isLabel"){if(d){a(this).hide();if(e[0]=="outer"){c.component().css("padding-"+e[1],0)}else{c.component().find(".coral-textbox-border").css("padding-"+e[1],0)}}else{a(this).show();var g=a(this).outerWidth();if(e[0]=="outer"){c.component().css("padding-"+e[1],g+c.options.inputButtonGutter)}else{c.component().find(".coral-textbox-border").css("padding-"+e[1],g)}}}if(b==="readonly"||b==="disable"||b==="isLabel"){var f=a(this).find(".ctrl-init-button");if(d){f.button("disable")}else{f.button("enable")}}})},_outerButtons:function(){this.uiDialogOuterButtonPanel=a("<span/>",{className:"coral-outerbuttonset coral-corner-all"});this.component().append(this.uiDialogOuterButtonPanel);this._createtoolPanelItems(this.options.buttonOptions,null,this.uiDialogOuterButtonPanel,"button");this.component().css("padding-right",this.uiDialogOuterButtonPanel.outerWidth()+8)},_createButtonPanel:function(){var g=false,e,h="right",j="inner",d="innerRight",b="prepend",f=this.options.buttons;for(e=0;e<this.options.buttons.length;e++){if(f[e]["innerLeft"]){d="innerLeft";h="left";g=true}if(f[e]["innerRight"]){d="innerRight";h="right";b="append";g=true}if(f[e]["outerRight"]){d="outerRight";h="right";j="outer";b="append";g=true}if(f[e]["outerLeft"]){d="outerLeft";h="left";j="outer";g=true}if(f[e]["floatRight"]){d="floatRight";j="float";b="append";g=true}if(f[e]["floatLeft"]){d="floatLeft";h="left";j="float";g=true}var c=f[e][d]?f[e][d][0]:f[e];if(c.type&&c.type=="combobox"){this._initToolPanel(j,d,h,b,e,"combobox")}else{this._initToolPanel(j,d,h,b,e,"button")}}if(!g){this.uiDialogButtonPanel=a("<span class='"+d+" coral-textbox-btn-icons coral-buttonset coral-corner-"+h+" '></span>");this._createtoolPanelItems(this.options.buttons,h,this.uiDialogButtonPanel,j,"button");
this.elementBorder.append(this.uiDialogButtonPanel);this.elementBorder.css("padding-right",this.uiDialogButtonPanel.outerWidth());this.uiDialogButtonPanel.css("right",0);this.rightPos=this.uiDialogButtonPanel.outerWidth()}},_initToolPanel:function(h,d,g,b,c,f){var e=this;if(h=="inner"){this.uiButtonPanel=a("<span class='button "+d+" coral-buttonset coral-inner coral-corner-"+g+"' data-pos="+h+"_"+g+"></span>");this.buttonPanelWraper=this.elementBorder}else{this.uiButtonPanel=a("<span class='button "+d+" coral-outerbuttonset coral-outer coral-corner-all' data-pos="+h+"_"+g+"></span>");this.buttonPanelWraper=this.component()}this.buttonPanelWraper[b](this.uiButtonPanel);this._createtoolPanelItems(this.options.buttons[c][d],g,this.uiButtonPanel,h,f);this._positionToolPanel(h,g)},_positionToolPanel:function(d,c){var b=this.uiButtonPanel.outerWidth()+1;if(d==="inner"){this.elementBorder.css("padding-"+c,b);this.uiButtonPanel.css(c,0)}else{if(d==="float"){this.uiButtonPanel.css(c,-(b+this.options.inputButtonGutter))}else{if(d==="outer"){this.component().css("padding-"+c,b+this.options.inputButtonGutter);this.uiButtonPanel.css(c,0)}}}if(c==="left"){this.uiButtonPanel.css("width",b)}if(d+c==="innerright"){this.rightPos=this.uiButtonPanel.outerWidth()}},_createtoolPanelItems:function(b,e,c,g,f){var d=this;if(a.isEmptyObject(b)){b={}}if(b instanceof Array==false){b=[b]}a.each(b,function(m){var l="",j="coral-corner-all";if(g=="inner"&&e=="left"){if(m==0){l="coral-corner-left"}}else{if(g=="inner"&&e=="right"){if(m==(b.length-1)){l="coral-corner-right"}}else{j=""}}if(f==="button"){var o,n=a.extend({type:"button"},{click:this.click});this.click=this.onClick||this.click;delete this.onClick;o=this.click||a.noop;n.click=function(){o.apply(d.element[0],arguments)};delete this.click;var k=a("<button></button>",n).button(this);k.button("component").addClass(l).removeClass(j).appendTo(c);this.click=o}else{if(f==="combobox"){delete this.type;this.width="item";var h=a("<input type='text'/>").appendTo("body");
h.off(".changeLength").on("comboboxonload.changeLength",{target:h},function(i){d.resizeCombo.apply(i.data.target.combobox("instance"))}).on("comboboxonchange.changeLength",{target:h},function(i){d.resizeCombo.apply(i.data.target.combobox("instance"))}).combobox(this);h.combobox("component").addClass(l).removeClass(j).appendTo(c).addClass("coral-DropDownButton")}}})},resizeCombo:function(){var e=this,d=this.options,b=0;function f(j,i){var h=e.options.inputButtonGutter,g=0;if(j==="outer"){a(".coral-outer").children(".coral-DropDownButton").each(function(){g+=a(this).width()});e.component().closest(".coral-outer").css("width",g);e.component().closest(".coral-outer").closest(".coral-textbox").css("padding-"+i,g+h)}if(j==="inner"){if(e.component().hasClass("coral-inner-left")){a(".coral-inner").find(".coral-inner-left").each(function(){g+=a(this).width()});e.component().closest(".coral-textbox-border").css("padding-left",g)}}}if(this.component().closest(".coral-inner").length){f("inner","left")}var c=this.component().closest(".coral-outer");if(c.length){if(c.attr("data-pos")=="outer_right"){f("outer","right")}if(c.attr("data-pos")=="outer_left"){f("outer","left")}}}})})(jQuery);