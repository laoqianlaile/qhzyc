(function(f,d,a,h){var e="loading",g={position:"overlay",text:"",loadingIcon:"coral-icon-loading",tpl:'<span class="loading-wrapper {wrapper}">{text}<span class="{loadingIcon} icon"></span></span>',disableSource:false,disableOthers:[]};function c(j,i){this.element=j;this.options=f.extend({},g,i);this._defaults=g;this._name=e;this._loader=null;this.init()}function b(){if(!f[e]){f.loading=function(i){f("body").loading(i)}}}c.prototype={init:function(){if(f(this.element).is("body")){this.options.position="overlay"}this.show()},show:function(){var k=this,l=k.options.tpl.replace("{wrapper}"," loading-show  loading-"+k.options.position);l=l.replace("{loadingIcon}",k.options.loadingIcon);l=l.replace("{text}",(k.options.text!=="")?k.options.text+" ":"");k._loader=f(l);if(f(k.element).is("input, textarea")&&true===k.options.disableSource){f(k.element).attr("disabled","disabled")}else{if(true===k.options.disableSource){f(k.element).addClass("disabled")}}switch(k.options.position){case"inside":f(k.element).html(k._loader);break;case"overlay":var j=null;if(f(k.element).is("body")){j=f('<div class="loading-overlay" style="position:fixed; left:0; top:0; z-index: 10000; width: 100%; height: '+f(d).height()+'px;" />');f("body").prepend(j)}else{var n=f(k.element).css("position"),o={},i=f(k.element).outerHeight()+"px",m="100%";if("relative"===n||"absolute"===n){o={top:0,left:0}}else{o=f(k.element).position()}j=f('<div class="loading-overlay" style="position:absolute; top: '+o.top+"px; left: "+o.left+"px; z-index: 10000; width: "+m+"; height: "+i+';" />');f(k.element).prepend(j)}j.html(k._loader);k._loader.css({top:(j.outerHeight()/2-k._loader.outerHeight()/2)+"px"});break;default:f(k.element).after(k._loader);break}k.disableOthers()},hide:function(){if("overlay"===this.options.position){f(this.element).find(".loading-overlay").first().remove()}else{f(this._loader).remove();f(this.element).text(f(this.element).attr("data-loading-label"))}f(this.element).removeAttr("disabled").removeClass("disabled");
this.enableOthers()},disableOthers:function(){f.each(this.options.disableOthers,function(k,l){var j=f(l);if(j.is("button, input, textarea")){j.attr("disabled","disabled")}else{j.addClass("disabled")}})},enableOthers:function(){f.each(this.options.disableOthers,function(k,l){var j=f(l);if(j.is("button, input, textarea")){j.removeAttr("disabled")}else{j.removeClass("disabled")}})}};f.fn[e]=function(i){return this.each(function(){if(i&&"hide"!==i||!f.data(this,"plugin_"+e)){f.data(this,"plugin_"+e,new c(this,i))}else{var j=f.data(this,"plugin_"+e);if("hide"===i){j.hide()}else{j.show()}}})};b()})(jQuery,window,document);