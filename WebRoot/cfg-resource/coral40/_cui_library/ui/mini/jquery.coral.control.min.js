/*!
 * 组件库4.0：下拉框
 * 
 * 依赖JS文件：
 *    jquery.coral.core.js
 *    jquery.coral.component.js
 *    jquery.coral.panel.js
 *    jquery.validatehelper.js
 */
(function(a){a.component("coral.control",{version:"4.0.2",options:{inputButtonGutter:5,},_create:function(){},_outerButtons:function(){this.uiDialogOuterButtonPanel=a('<span class="coral-outerbuttonset coral-corner-all "></span>');this.component().append(this.uiDialogOuterButtonPanel);this._createButtons(this.options.buttonOptions,null,this.uiDialogOuterButtonPanel);this.component().css("padding-right",this.uiDialogOuterButtonPanel.outerWidth()+8)},_createButtonPanel:function(){var f=false;for(var d=0;d<this.options.buttons.length;d++){var g="right";var h="inner";var c="innerRight";var b="prepend",e=this.options.buttons;if(e[d]["innerLeft"]){c="innerLeft";g="left";this._addButtonPanel(h,c,g,b,d);f=true}if(e[d]["innerRight"]){c="innerRight";g="right";b="append";this._addButtonPanel(h,c,g,b,d);f=true}if(e[d]["outerRight"]){c="outerRight";g="right";h="outer";b="append";this._addButtonPanel(h,c,g,b,d);f=true}if(e[d]["outerLeft"]){c="outerLeft";g="left";h="outer";this._addButtonPanel(h,c,g,b,d);f=true}if(e[d]["floatRight"]){c="floatRight";h="float";b="append";this._addButtonPanel(h,c,g,b,d);f=true}if(e[d]["floatLeft"]){c="floatLeft";g="left";h="float";this._addButtonPanel(h,c,g,b,d);f=true}}if(!f){this.uiDialogButtonPanel=a("<span class='"+c+" coral-textbox-btn-icons coral-buttonset coral-corner-"+g+" '></span>");this._createButtons(this.options.buttons,g,this.uiDialogButtonPanel);this.elementBorder.append(this.uiDialogButtonPanel);this.elementBorder.css("padding-right",this.uiDialogButtonPanel.outerWidth());this.uiDialogButtonPanel.css("right",0)}},_addButtonPanel:function(g,d,f,b,c){this.uiDialogButtonPanel=a("<span class='"+d+" coral-textbox-btn-icons coral-buttonset coral-corner-"+f+" '></span>");this.uiDialogOuterButtonPanel=a('<span class="coral-outerbuttonset coral-corner-all "></span>');if(g=="inner"){this._createButtons(this.options.buttons[c][d],f,this.uiDialogButtonPanel);
this.elementBorder[b](this.uiDialogButtonPanel);this.elementBorder.css("padding-"+f,this.uiDialogButtonPanel.outerWidth());this.uiDialogButtonPanel.css(f,0)}else{if(g=="float"){this.component()[b](this.uiDialogOuterButtonPanel);this._createButtons(this.options.buttons[c][d],null,this.uiDialogOuterButtonPanel);this.uiDialogOuterButtonPanel.css(f,-(this.uiDialogOuterButtonPanel.outerWidth()+this.options.inputButtonGutter))}else{this.component()[b](this.uiDialogOuterButtonPanel);this._createButtons(this.options.buttons[c][d],null,this.uiDialogOuterButtonPanel);var e=this.uiDialogOuterButtonPanel.outerWidth();this.component().css("padding-"+f,this.uiDialogOuterButtonPanel.outerWidth()+this.options.inputButtonGutter);this.uiDialogOuterButtonPanel.css(f,0).css("width",e)}}},_createButtons:function(d,e,b){var c=this;if(a.isEmptyObject(d)){d={}}if(d instanceof Array==false){d=[d]}a.each(d,function(h){var l,g="",f="",j=a.extend({type:"button"},{click:this.click});this.click=this.onClick||this.click;delete this.onClick;var k=this.click||a.noop;j.click=function(){k.apply(c.element[0],arguments)};delete this.click;f="coral-corner-all";if(e=="left"){if(h==0){g="coral-corner-left"}a("<button></button>",j).button(this).addClass(g).removeClass(f).appendTo(b)}else{if(e=="right"){if(h==(d.length-1)){g="coral-corner-right"}a("<button></button>",j).button(this).addClass(g).removeClass(f).appendTo(b)}else{a("<button></button>",j).button(this).addClass(g).appendTo(b)}}this.click=k})}})})(jQuery);